"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[39],{908:(e,t,r)=>{r.d(t,{A:()=>a});let a=(0,r(1847).A)("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},1045:(e,t,r)=>{r.d(t,{C:()=>s});var a=r(5155);r(2115);let s=e=>{let{title:t,count:r,icon:s,colorClass:l,isActive:i=!1,onClick:d}=e;return(0,a.jsx)("div",{onClick:d,className:"\n        bg-[rgb(var(--bg-primary))] \n        border border-[rgb(var(--border-color))]\n        rounded-xl p-6 \n        hover:shadow-lg transition-all cursor-pointer\n        ".concat(i?"ring-2 ring-blue-500 shadow-lg":"","\n      "),children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-[rgb(var(--text-secondary))]",children:t}),(0,a.jsx)("p",{className:"text-3xl font-bold text-[rgb(var(--text-primary))] mt-2",children:r})]}),(0,a.jsx)("div",{className:"".concat(l," p-3 rounded-full"),children:s})]})})}},1362:(e,t,r)=>{r.d(t,{A:()=>a});let a=(0,r(1847).A)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},2056:(e,t,r)=>{r.d(t,{A:()=>a});let a=(0,r(1847).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},3464:(e,t,r)=>{r.d(t,{A:()=>a});let a=(0,r(1847).A)("list-filter",[["path",{d:"M2 5h20",key:"1fs1ex"}],["path",{d:"M6 12h12",key:"8npq4p"}],["path",{d:"M9 19h6",key:"456am0"}]])},5196:(e,t,r)=>{r.d(t,{AuthProvider:()=>d,A:()=>n});var a=r(5155),s=r(2115),l=r(7241);let i=(0,s.createContext)(void 0);function d(e){let{children:t}=e,[r,d]=(0,s.useState)(null),[n,c]=(0,s.useState)(!0),o=(0,l.createBrowserClient)("https://mumtxjsjmznkzvoiswiv.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im11bXR4anNqbXpua3p2b2lzd2l2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ1NjEzMzYsImV4cCI6MjA4MDEzNzMzNn0.igVCUAUBxdtPviFrs6ZjVjW9nFSMswj9l447S8KN4Jg");(0,s.useEffect)(()=>{o.auth.getSession().then(e=>{var t;let{data:{session:r}}=e;d(null!=(t=null==r?void 0:r.user)?t:null),c(!1)});let{data:{subscription:e}}=o.auth.onAuthStateChange((e,t)=>{var r;d(null!=(r=null==t?void 0:t.user)?r:null)});return()=>e.unsubscribe()},[o.auth]);let x=async(e,t)=>{let{error:r}=await o.auth.signInWithPassword({email:e,password:t});return{error:r}},h=async()=>{await o.auth.signOut()};return(0,a.jsx)(i.Provider,{value:{user:r,loading:n,signIn:x,signOut:h},children:t})}function n(){let e=(0,s.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},5998:(e,t,r)=>{r.d(t,{A:()=>a});let a=(0,r(1847).A)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]])},6621:(e,t,r)=>{r.d(t,{U:()=>d});var a=r(5155),s=r(7494),l=r(9427),i=r(7106);function d(){try{let{theme:e,toggleTheme:t}=(0,i.D)();return(0,a.jsx)("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors","aria-label":"Toggle theme",children:"light"===e?(0,a.jsx)(s.A,{size:20,className:"text-gray-600 dark:text-gray-300"}):(0,a.jsx)(l.A,{size:20,className:"text-gray-600 dark:text-gray-300"})})}catch(e){return(0,a.jsx)("button",{className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors","aria-label":"Toggle theme",children:(0,a.jsx)(l.A,{size:20,className:"text-gray-600 dark:text-gray-300"})})}}},6983:(e,t,r)=>{r.d(t,{A:()=>a});let a=(0,r(1847).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},7106:(e,t,r)=>{r.d(t,{D:()=>d,ThemeProvider:()=>i});var a=r(5155),s=r(2115);let l=(0,s.createContext)(void 0);function i(e){let{children:t}=e,[r,i]=(0,s.useState)("dark"),[d,n]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{n(!0);let e=localStorage.getItem("theme");e?i(e):i(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")},[]),(0,s.useEffect)(()=>{d&&(document.documentElement.setAttribute("data-theme",r),localStorage.setItem("theme",r))},[r,d]),d)?(0,a.jsx)(l.Provider,{value:{theme:r,toggleTheme:()=>{i(e=>"light"===e?"dark":"light")}},children:t}):(0,a.jsx)(a.Fragment,{children:t})}function d(){let e=(0,s.useContext)(l);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},8149:(e,t,r)=>{r.d(t,{I:()=>d});var a=r(5155);r(2115);let s=e=>{let{daysRemaining:t}=e;return t<0?(0,a.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-red-600 text-white",children:["หมดอายุ (",Math.abs(t)," วัน)"]}):t<=90?(0,a.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-orange-600 text-white",children:["ใกล้หมด (",t," วัน)"]}):(0,a.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-green-600 text-white",children:["ใช้งาน (",t," วัน)"]})};var l=r(1010),i=r(1360);let d=e=>{let{data:t,groupBy:r,onEdit:d,onDelete:n}=e,c=e=>(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-[rgb(var(--border-color))]",children:[(0,a.jsx)("thead",{className:"bg-[rgb(var(--bg-secondary))]",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[rgb(var(--text-secondary))] uppercase tracking-wider",children:"Registration No."}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[rgb(var(--text-secondary))] uppercase tracking-wider",children:"Company"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[rgb(var(--text-secondary))] uppercase tracking-wider",children:"Tag / Scope"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[rgb(var(--text-secondary))] uppercase tracking-wider",children:"Dates"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[rgb(var(--text-secondary))] uppercase tracking-wider",children:"Status"}),(d||n)&&(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-[rgb(var(--text-secondary))] uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-[rgb(var(--bg-primary))] divide-y divide-[rgb(var(--border-color))]",children:e.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-[rgb(var(--bg-secondary))] transition-colors",children:[(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:e.registrationNo}),(0,a.jsx)("div",{className:"text-xs text-[rgb(var(--text-tertiary))]",children:e.certificationAuthority})]}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsx)("div",{className:"text-sm text-[rgb(var(--text-primary))]",children:e.company})}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("span",{className:"inline-flex w-fit items-center px-2 py-0.5 rounded text-xs font-medium bg-[rgb(var(--bg-secondary))] text-[rgb(var(--text-primary))] border border-[rgb(var(--border-color))]",children:e.tag}),(0,a.jsxs)("span",{className:"text-xs text-[rgb(var(--text-tertiary))]",children:[e.standardScope," - ",e.criteriaScope]})]})}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,a.jsxs)("div",{className:"text-sm text-[rgb(var(--text-primary))]",children:["Valid: ",e.validUntil]}),(0,a.jsxs)("div",{className:"text-xs text-[rgb(var(--text-tertiary))]",children:["Effective: ",e.effectiveDate]})]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)(s,{daysRemaining:e.daysRemaining})}),(d||n)&&(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[d&&(0,a.jsx)("button",{onClick:()=>d(e),className:"text-blue-600 hover:text-blue-900 dark:hover:text-blue-400 mr-4",title:"แก้ไข",children:(0,a.jsx)(l.A,{size:18})}),n&&(0,a.jsx)("button",{onClick:()=>n(e.id),className:"text-red-600 hover:text-red-900 dark:hover:text-red-400",title:"ลบ",children:(0,a.jsx)(i.A,{size:18})})]})]},e.id))})]})});if("none"===r)return(0,a.jsx)("div",{className:"bg-[rgb(var(--bg-primary))] shadow rounded-lg overflow-hidden border border-[rgb(var(--border-color))]",children:c(t)});let o=t.reduce((e,t)=>{let a="company"===r?t.company:t.tag;return e[a]||(e[a]=[]),e[a].push(t),e},{});return(0,a.jsx)("div",{className:"space-y-8",children:Object.entries(o).map(e=>{let[t,s]=e;return(0,a.jsxs)("div",{className:"bg-[rgb(var(--bg-primary))] shadow rounded-lg overflow-hidden border border-[rgb(var(--border-color))]",children:[(0,a.jsxs)("div",{className:"bg-[rgb(var(--bg-secondary))] px-6 py-3 border-b border-[rgb(var(--border-color))] flex justify-between items-center",children:[(0,a.jsxs)("h3",{className:"font-bold text-[rgb(var(--text-primary))] flex items-center gap-2",children:["company"===r?"\uD83C\uDFE2":"\uD83C\uDFF7️"," ",t]}),(0,a.jsxs)("span",{className:"bg-[rgb(var(--bg-primary))] px-2 py-1 rounded text-xs text-[rgb(var(--text-secondary))] border border-[rgb(var(--border-color))] shadow-sm",children:[s.length," items"]})]}),c(s)]},t)})})}},9865:(e,t,r)=>{r.d(t,{A:()=>a});let a=(0,r(1847).A)("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]])}}]);